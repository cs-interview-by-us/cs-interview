# 파일 시스템
## 파일 시스템이란?
- 컴퓨터에서 파일이나 자료를 쉽게 발견 할 수 있도록, 유지, 관리하는 방법
- 저장매체에는 많은 파일이 있으므로, 이러한 파일을 관리하는 방법

### 파일 시스템 특징
- 계층적 디렉터리 구조를 가짐
- 커널 영역에서 동작
- 파일 CRUD(Create/Read/Update/Delete) 기능을 원할하게 수행하기 위함
- 디스크 파티션 별로 하나씩 둘 수 있음

### 파일 시스템 역할
- 파일관리: 파일 저장, 참조, 공유
- 보조 저장소 관리: 저장 공간 할당
- 파일 무결성 메커니즘: 파일이 의도한 정보만 포함하고 있음을 의미
- 접근 방법: 저장된 데이터에 접근할 수 있는 방법 제공

### 파일 시스템 구조
- 메타 영역 : 데이터 영역에 기록된 파일의 이름, 위치, 크기, 시간정보, 삭제유무 등 파일의 정보 (윈도우 탐색기를 이용하여 검색할때 메타 영역에서 탐색하면서 파일을 찾음)
- 데이터 영역 : 파일의 데이터

## 파일 시스템에서 파일 접근 방법
### 1. 순차 접근(Sequential Access)
![](https://velog.velcdn.com/images/imeyh/post/65cd8a7d-e5ea-4805-bf36-f9410d748a54/image.png)
- 가장 간단한 방법
- Read 연산과 Write 연산이 대부분
- 테이프 모델 기반

### 2. 직접 접근(Direct Access)
![](https://velog.velcdn.com/images/imeyh/post/04ef1e2a-d33d-4600-b69d-d80c8ad292dd/image.png)
- 특별한 순서없이 빠르게 레코드를 Read, Write 가능
- 대규모 데이터베이스에 직접 접근이 아주 유용

### 3. 기타 접근
![](https://velog.velcdn.com/images/imeyh/post/b6e994af-8b57-40a3-b211-5d8a5627edf5/image.png)
- 인덱스 순차 접근 방법
- 크기가 큰 파일을 적은 입출력으로 탐색 가능

## 파일 시스템에서의 디렉터리 전체 구조
### 1. 1단계 디렉터리
![](https://velog.velcdn.com/images/imeyh/post/01d8856c-fea7-4fee-97dc-de75487d2abc/image.png)
- 가장 간단한 구조
- 모든 파일이 같은 디렉터리에 위치 → 유지가 쉬움
- 파일들은 서로 유일한 이름을 가짐(다른 사용자이더라도 같은 이름 사용 불가)

### 2. 2단계 디렉터리
![](https://velog.velcdn.com/images/imeyh/post/a3ccc983-e76c-4828-8345-7ba0730cd0b6/image.png)
- 사용자에게 개별적인 디렉터리 만들어줌  
(∵1단계 디렉터리에서 발생하는 파일명 혼란 예방)  

### 3. 트리 구조 디렉터리
![](https://velog.velcdn.com/images/imeyh/post/04bcec09-9810-42b2-b2b9-da624b6c93a8/image.png)
- 2단계 디렉터리 구조에서 확장된 다단계 트리 구조
- 하나의 루트 디렉터리 가짐
- 시스템 내의 모든 파일이 유일한 경로명 가짐
- 1개의 bit를 활용하여 일반 파일(0)인지 디렉터리 파일(1)인지 구분

### 4. 그래프 구조 디렉터리
![](https://velog.velcdn.com/images/imeyh/post/92ad8dbc-feb9-413e-a173-4bc0c3b0257e/image.png)
- 순환이 발생하지 않도록 하위 디렉터리가 아닌 파일에 대한 링크만 허용하거나, 가비지 컬렉션을 이용해 전체 파일 시스템을 순회하고 접근 가능한 모든 것을 표시
- 링크가 있으면 우회하여 순환을 피할 수 있음
